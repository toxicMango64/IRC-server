---

# **ft\_irc – Internet Relay Chat Server**

## 📘 **Summary**

Create your own **IRC server** in **C++98**. You'll use a real IRC client to test the server, which should behave like a minimal subset of a standard IRC server.

---

## 🧱 **Requirements**

### General

* No crashes or unexpected quits.
* Must include a Makefile with rules: `$(NAME)`, `all`, `clean`, `fclean`, `re`.
* Must compile with: `c++ -Wall -Wextra -Werror -std=c++98`.
* Use C++ equivalents of C functions where possible.
* No external libraries (including Boost).
* No forking. All I/O must be **non-blocking**.
* Must use exactly **one** `poll()` (or equivalent) to handle all I/O.
* Communication must happen over **TCP/IP (IPv4 or IPv6)**.

---

## 🛠️ **Build and Run**

* Executable name: `ircserv`
* Run as:

  ```bash
  ./ircserv <port> <password>
  ```
* Acceptable source files:

  * `.cpp`, `.h`, `.hpp`, `.tpp`, `.ipp`, optional config file

---

## 🔌 **Networking Functions Allowed**

You can use:
`socket`, `close`, `setsockopt`, `getaddrinfo`, `freeaddrinfo`, `bind`, `connect`, `listen`, `accept`, `htons`, `ntohs`, `send`, `recv`, `poll`, `signal`, `fcntl`, etc.

---

## 🧑‍🤝‍🧑 **Required Features**

Your server must:

* Support **multiple clients** simultaneously.
* Allow clients to:

  * Authenticate (with password)
  * Set nickname and username
  * Join channels
  * Send/receive private and channel messages
* Forward all messages sent in a channel to all other participants.
* Distinguish between **operators** and **regular users**.

### IRC Commands to Implement

* **User commands**:

  * `NICK`, `USER`, `JOIN`, `PRIVMSG`, etc.
* **Channel operator commands**:

  * `KICK`: Eject user from channel
  * `INVITE`: Invite a user to a channel
  * `TOPIC`: View or change channel topic
  * `MODE` (with sub-modes):

    * `i`: Invite-only channel
    * `t`: Topic can only be changed by ops
    * `k`: Channel key (password)
    * `o`: Give/take operator status
    * `l`: User limit for the channel

---

## 📌 **Implementation Tips**

* Handle partial reads/writes (e.g. messages arriving in segments).
* Parse and rebuild full commands before processing.
* The reference client should connect and work without errors, just like with a real IRC server.

---

## 🎁 **Bonus (only if mandatory part is perfect)**

Optional features:

* File transfers
* IRC bot

---

## ✅ **Test Example (Manual Test)**

Using `netcat`:

```bash
nc -C 127.0.0.1 6667
```

Type input like:

```
com
man
d
```

(using `Ctrl+D` to simulate broken-up message delivery).

---
